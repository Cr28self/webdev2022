
**리액트 애플리케이션에서 리덕스를 사용의 장점**

-   상태 업데이트에 관한 로직을 모듈로 따로 분리하여 컴포넌트 파일과 별개로 관리
-   코드를 유지 보수하는 데 이점
-   여러 컴포넌트에서 동일한 상태를 공유해야 할 때 유용
-   실제 업데이트가 필요한 컴포넌트만 리렌더링되도록 쉽게 최적화

사용은 주로 react-redux라는 라이브러리에서 제공하는 유틸 함수( connect )와 컴포넌트( Provider )를 사용하여 리덕스 관련 작업을 처리한다.

### 리덕스를 쓰면, 상태 관리를 컴포넌트 바깥에서 한다.

리덕스에 대한 설명은 여러가지 방식으로 할 수 있겠지만 저는 주로 이런 표현을 합니다. 리덕스를 사용하면 상태값을, 컴포넌트에 종속시키지 않고, 상태 관리를 컴포넌트의 바깥에서 관리 할 수 있게 됩니다.

그림으로 설명하자면 다음과 같은 구조죠.

예를 들어서 B 에서 일어나는 변화가 G 에 반영된다고 가정을 해봅시다.

#### 스토어 설정

![](https://i.imgur.com/c6A4cHg.png)

리덕스를 프로젝트에 적용하게 되면 이렇게 스토어 라는 녀석이 생깁니다. 스토어 안에는 프로젝트의 상태에 관한 데이터들이 담겨있죠.

#### 컴포넌트의 스토어 구독

![](https://i.imgur.com/uROrrOc.png)

G 컴포넌트는 스토어에 구독을 합니다. 구독을 하는 과정에서, 특정 함수가 스토어한테 전달이 됩니다. 그리고 나중에 스토어의 상태값에 변동이 생긴다면 전달 받았던 함수를 호출해줍니다.

#### 스토어에 상태 변경하라고 알려주기

![](https://i.imgur.com/1e4ltmz.png)

이제 B 컴포넌트에서 어떤 이벤트가 생겨서, 상태를 변화 할 일이 생겼습니다. 이 때 dispatch 라는 함수를 통하여 액션을 스토어한테 던져줍니다. 액션은 상태에 변화를 일으킬 때 참조 할 수 있는 객체입니다. 액션 객체는 필수적으로 type 라는 값을 가지고 있어야 합니다.

예를들어  `{ type: 'INCREMENT' }`  이런 객체를 전달 받게 된다면, 리덕스 스토어는 아~ 상태에 값을 더해야 하는구나~ 하고 액션을 참조하게 됩니다.

추가적으로, 상태값에 2를 더해야 한다면, 이러한 액션 객체를 만들게 됩니다:  `{ type: 'INCREMENT', diff: 2 }`

그러면, 나중에 이 diff 값을 참고해서 기존 값에 2를 더하게되겠죠. type 를 제외한 값은 선택적(optional) 인 값입니다. 액션에 대해선 나중에 더 자세히 알아볼게요.

#### 리듀서를 통하여 상태를 변화시키기

![](https://i.imgur.com/vasxqlQ.png)

액션 객체를 받으면 전달받은 액션의 타입에 따라 어떻게 상태를 업데이트 해야 할지 정의를 해줘야겠죠? 이러한 업데이트 로직을 정의하는 함수를 리듀서라고 부릅니다. 이 함수는 나중에 우리가 직접 구현하게 됩니다. 예를들어 type 이 INCREMENT 라는 액션이 들어오면 숫자를 더해주고, DECREMENT 라는 액션이 들어오면 숫자를 감소시키는 그런 작업을 여기서 하면 되죠.

리듀서 함수는 두가지의 파라미터를 받습니다.

1.  **state**: 현재 상태
2.  **action**: 액션 객체

그리고, 이 두가지 파라미터를 참조하여, 새로운 상태 객체를 만들어서 이를 반환합니다.

#### 상태가 변화가 생기면, 구독하고 있던 컴포넌트에게 알림

![](https://i.imgur.com/FkqTNhu.png)  
상태에 변화가 생기면, 이전에 컴포넌트가 스토어한테 구독 할 때 전달해줬었던 함수 listener 가 호출됩니다. 이를 통하여 컴포넌트는 새로운 상태를 받게되고, 이에 따라 컴포넌트는 리렌더링을 하게 되죠.

#### 정리

정리하자면 이렇습니다. 기존에는 부모에서 자식의 자식의 자식까지 상태가 흘렀었는데, 리덕스를 사용하면 스토어를 사용하여 상태를 컴포넌트 구조의 바깥에 두고, 스토어를 중간자로 두고 상태를 업데이트 하거나, 새로운 상태를 전달받습니다. 따라서, 여러 컴포넌트를 거쳐서 받아올 필요 없이 아무리 깊숙한 컴포넌트에 있다 하더라도 직속 부모에게서 받아오는 것 처럼 원하는 상태값을 골라서 props 를 편리하게 받아올 수 있죠.


----

출처 : [리덕스(Redux)를 왜 쓸까?](https://velopert.com/3528)